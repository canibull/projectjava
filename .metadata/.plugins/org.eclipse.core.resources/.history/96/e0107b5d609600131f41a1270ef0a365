package demo;

import org.springframework.batch.item.file.mapping.FieldSetMapper;
import org.springframework.batch.item.file.transform.FieldSet;

public class CustomerFieldSetMapper implements FieldSetMapper<Customer> {
    public Customer mapFieldSet(FieldSet fieldSet) {
        Customer cust = new Customer();
        // TODO Error checking
        // Set ID to array list size + 1 since CSV does not contain any ID
        cust.setID(Customer.getCustomers().size());
        cust.setCustName(fieldSet.readString(0));
        cust.setCustPnr(fieldSet.readInt(1)); 
        cust.setCustAddress(fieldSet.readString(2));
        cust.setCustPhone(fieldSet.readString(3));

        return cust;
    }
}